# Divan [![Build Status](https://travis-ci.org/garbados/divan.png)](https://travis-ci.org/garbados/divan) [![Coverage Status](https://coveralls.io/repos/garbados/divan/badge.png)](https://coveralls.io/r/garbados/divan)

An effortless CouchDB ODM for Python.

Put on your favorite hookah, sit back on the [divan][wiki], and relax.

![What a Divan Looks Like][wiki_img]

## Install

    pip install divan
    
## Usage

All methods return response objects generated by Requests.

If CouchDB has a special endpoint for something, it's in Divan as a special method, so any special circumstances are taken care of automagically.

You can create objects explicitly or inherit them from objects higher in the DB heirarchy. So, you can create a `Database` object explicitly, or use `Connection.database` to inherit settings from the `Connection` object

## API
{% for class in order %}
{%- set main = docs[class]._main %}
### {{class}}({{main.args}}{% if main.kwargs %}, **{{main.kwargs}}{% endif %})
{{main.docs}}
{%- for name, method in docs[class].items() if name != '_main' %}
#### {{class}}.{{name}}({{method.args}}{% if method.kwargs %}, **{{method.kwargs}}{% endif %})
{{method.docs}}

{%- endfor %}
{%- endfor %}

## Testing

Testing uses a live database, so you'll need to configure a `local_settings.py` file or set environment variables for `URI`, `DB_NAME`, `USER`, and `PASS`. Then:

    python setup.py test

[wiki]: http://en.wikipedia.org/wiki/Divan_(furniture\)
[wiki_img]: http://upload.wikimedia.org/wikipedia/commons/e/ea/FrancisLevettLiotard.jpg