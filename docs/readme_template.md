# Divan [![Build Status](https://travis-ci.org/garbados/divan.png)](https://travis-ci.org/garbados/divan) [![Coverage Status](https://coveralls.io/repos/garbados/divan/badge.png)](https://coveralls.io/r/garbados/divan)

[wiki]: http://en.wikipedia.org/wiki/Divan_(furniture\)
[wiki_img]: http://upload.wikimedia.org/wikipedia/commons/e/ea/FrancisLevettLiotard.jpg

An effortless Cloudant interface for Python.

Put on your favorite hookah, sit back on the [divan][wiki], and relax.

![What a Divan Looks Like][wiki_img]

## Install

    pip install divan
    
## Usage

All methods return response objects generated by Requests, if the request was successful. Else, the response object is attached to the thrown error. If a response has a bad status code, Divan throws an error.

Divan expose raw interactions -- HTTP requests, etc. -- through special methods, so we provide syntactical sugar without obscuring the underlying API. (builtins, such as `__getitem__`, act as Pythonic shortcuts to those methods)

If CouchDB has a special endpoint for something, it's in Divan as a special method, so any special circumstances are taken care of automagically.

You can create objects explicitly or inherit them from objects higher in the DB hierarchy. So, you can create a `Database` object explicitly, or use `Connection.database` to inherit settings from the `Connection` object.

## API
{% for class in order %}
{%- set main = docs[class]._main %}
### {{class}}({{main.args}}{% if main.args and main.kwargs%}, {% endif %}{% if main.kwargs %}**{{main.kwargs}}{% endif %})
{{main.docs}}
{%- for name, method in docs[class].items() if name != '_main' %}
#### {{class}}.{{name}}({{method.args}}{% if method.args and method.kwargs%}, {% endif %}{% if method.kwargs %}**{{method.kwargs}}{% endif %})
{{method.docs}}

{%- endfor %}
{%- endfor %}

## Testing

To run Divan's tests, just do:

    python setup.py test

## Documentation

The API reference is automatically generated from the docstrings of each class and its methods. To install Divan with the necessary extensions to build the docs, do this:

    pip install -e divan[docs]

Then, in Divan's root directory, do this:
  
    python docs

Note: docstrings are in [Markdown](http://daringfireball.net/projects/markdown/).